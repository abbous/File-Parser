/**
 * xml2model
 * Author: michael
 * Date: 19.09.15.
 * License: MIT
 */
'use strict';
var assert = require('assert');
var should = require('chai').should();
var maps = require('./../index');

describe('MapFunc', function () {

    describe('#setOrCombine()', function () {
        it('should combine the arrays elements to', function (done) {
            var a = new Map([[1, [2]]]);
            a.setOrCombine(1, [3, 4, 5]);
            a.should.be.a('Map');
            a.get(1).should.be.a('Array');
            a.get(1).should.have.lengthOf(4, 'a is a array with a length of 4');
            done();
        });
    });

    describe('#setOrPush()', function () {
        it('should combine the arrays elements to', function (done) {
            var a = new Map([[1, [2]]]);
            a.setOrPush(1, [3, 4, 5]);
            a.should.be.a('Map');
            a.get(1).should.be.a('Array');
            a.get(1).should.have.lengthOf(2);
            a.get(1)[0].should.equal(2);
            a.get(1)[1].should.be.a('Array');
            a.get(1)[1].should.have.lengthOf(3);
            done();
        });
    });

    describe('#last()', function () {
        it('should return a Map holding the last element of the current one, the current should remain unchanged', function (done) {
            var a = new Map([[1, 2], ['a', 4], ['v', 6]]);
            var b = a.last(false);
            b.should.be.a('Map');
            Array.from(b.entries()).should.deep.equal([['v', 6]]);
            done();
        });
    });

    describe('#pop()', function () {
        it('should return a Map holding the last element of the current one, the current should have the last deleted', function (done) {
            var a = new Map([[1, 2], ['a', 4], ['v', 6]]);
            var b = a.last(true);
            b.should.be.a('Map');
            Array.from(b.entries()).should.deep.equal([['v', 6]]);
            Array.from(a.entries()).should.deep.equal(Array.from(new Map([[1, 2], ['a', 4]]).entries()));
            done();
        });
    });

    describe('#tt()', function () {
        it('should return a Map holding the last element of the current one, the current should have the last deleted', function (done) {
            var a = new Map([[1, 2], ['a', 4], ['v', 6]]);
            var c = new Map([[1, 2], ['a', 4], ['v', 6]]);
            var b = new Set([a]);
            b.add(c);
            done();
        });
    });

    describe('#sort()', function () {
        it('should return a ASC sorted map', function (done) {
            var a = new Map([[1, 2], ['x', 4], ['v', 6]]).sort();
            console.log(a);
            done();
        });
    });
});

//# sourceMappingURL=MapFuncTest.js.map